{"ast":null,"code":"import _regeneratorRuntime from \"/Users/carnspi/availability-exercise/web/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/carnspi/availability-exercise/web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/carnspi/availability-exercise/web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/carnspi/availability-exercise/web/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/carnspi/availability-exercise/web/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/carnspi/availability-exercise/web/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/carnspi/availability-exercise/web/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/carnspi/availability-exercise/web/src/App.js\";\nimport React, { Component } from 'react';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.groupBy = function (key) {\n      return this.reduce(function (groups, item) {\n        var val = item[key];\n        groups[val] = groups[val] || [];\n        groups[val].push(item);\n        return groups;\n      }, {});\n    };\n\n    _this.state = {};\n\n    _this.fetchToday();\n\n    _this.fetchAvailability();\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"fetchToday\",\n    value: function () {\n      var _fetchToday = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var res, json;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return fetch(\"http://localhost:4433/today\");\n\n              case 3:\n                res = _context.sent;\n                _context.next = 6;\n                return res.groupBy('id').json();\n\n              case 6:\n                json = _context.sent;\n                this.setState({\n                  today: json.today\n                });\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](0);\n                console.error(\"Failed to fetch 'today' data\", _context.t0);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 10]]);\n      }));\n\n      function fetchToday() {\n        return _fetchToday.apply(this, arguments);\n      }\n\n      return fetchToday;\n    }()\n  }, {\n    key: \"fetchAvailability\",\n    value: function () {\n      var _fetchAvailability = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var res, json;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return fetch(\"http://localhost:4433/availability\");\n\n              case 3:\n                res = _context2.sent;\n                _context2.next = 6;\n                return res.json();\n\n              case 6:\n                json = _context2.sent;\n                this.setState({\n                  availability: json.availability\n                });\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.error(\"Failed to fetch 'today' data\", _context2.t0);\n\n              case 13:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 10]]);\n      }));\n\n      function fetchAvailability() {\n        return _fetchAvailability.apply(this, arguments);\n      }\n\n      return fetchAvailability;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Book Time with an Advisor\"), this.state.today && React.createElement(\"span\", {\n        id: \"today\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Today is \", this.state.today, \".\"), \"// \", this.state.availability && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Items here: \", this.state.availability.map(function (advisor, key) {\n        return React.createElement(\"p\", {\n          key: advisor.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, advisor.id, advisor.timestamp);\n      })), React.createElement(\"form\", {\n        id: \"name-form\",\n        className: \"col-md-6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"name-field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Your Name\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"name-field\",\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }))), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, \"Available Times\"), React.createElement(\"table\", {\n        className: \"advisors table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, \"Advisor ID\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Available Times\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, this.state.availability.map(function (advisor, key) {\n        return React.createElement(\"td\", {\n          key: advisor.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, advisor.id, React.createElement(\"ul\", {\n          className: \"list-unstyled\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(\"time\", {\n          dateTime: advisor.timestamp,\n          className: \"book-time\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, advisor.timestamp), React.createElement(\"button\", {\n          className: \"book btn-small btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        }, \"Book\"))));\n      })), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"35545\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"list-unstyled\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"time\", {\n        dateTime: \"2019-04-04T13:00:00-04:00\",\n        className: \"book-time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"4/4/2019 1:00 pm\"), React.createElement(\"button\", {\n        className: \"book btn-small btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Book\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"time\", {\n        dateTime: \"2019-04-05T10:00:00-04:00\",\n        className: \"book-time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"4/5/2019 10:00 am\"), React.createElement(\"button\", {\n        className: \"book btn-small btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Book\"))))), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"36232\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        className: \"list-unstyled\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"time\", {\n        dateTime: \"2019-04-02T13:00:00-04:00\",\n        className: \"book-time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"4/2/2019 1:00 pm\"), React.createElement(\"button\", {\n        className: \"book btn-small btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Book\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"time\", {\n        dateTime: \"2019-04-03T11:00:00-04:00\",\n        className: \"book-time\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"4/3/2019 11:00 am\"), React.createElement(\"button\", {\n        className: \"book btn-small btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Book\"))))))), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Booked Times\"), React.createElement(\"table\", {\n        className: \"bookings table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Advisor ID\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Student Name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Date/Time\"))), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"36232\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, \"John Smith\"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"time\", {\n        dateTime: \"2019-04-03T10:00:00-04:00\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"4/3/2019 10:00 am\"))))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/carnspi/availability-exercise/web/src/App.js"],"names":["React","Component","App","props","groupBy","key","reduce","groups","item","val","push","state","fetchToday","fetchAvailability","fetch","res","json","setState","today","console","error","availability","map","advisor","id","timestamp"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.fetchToday();\n    this.fetchAvailability();\n  }\n\n  groupBy = function(key) {\n  return this.reduce(function(groups, item) {\n    const val = item[key];\n    groups[val] = groups[val] || [];\n    groups[val].push(item);\n    return groups;\n    }, {});\n  };\n\n  async fetchToday() {\n    try {\n      const res = await fetch(\"http://localhost:4433/today\");\n      const json = await res.groupBy('id').json();\n      this.setState({today: json.today});\n    } catch (e) {\n      console.error(\"Failed to fetch 'today' data\", e);\n    }\n  }\n\n  async fetchAvailability() {\n    try {\n      const res = await fetch(\"http://localhost:4433/availability\");\n      const json = await res.json();\n      this.setState({availability: json.availability});\n    } catch (e) {\n      console.error(\"Failed to fetch 'today' data\", e);\n    }\n  }\n\n  render() {\n\n    return (\n      <div className=\"App container\">\n        <h1>Book Time with an Advisor</h1>\n\n        {this.state.today && <span id=\"today\">Today is {this.state.today}.</span>}\n        // {this.state.availability && <p>Items here: {this.state.availability.map((advisor, key) => <p key={advisor.id}>{advisor.id}{advisor.timestamp}</p>)}</p>}\n\n        <form id=\"name-form\" className=\"col-md-6\">\n          <div className=\"form-group\">\n            <label htmlFor=\"name-field\">Your Name</label>\n            <input type=\"text\" id=\"name-field\" className=\"form-control\" />\n          </div>\n        </form>\n\n\n        <h2>Available Times</h2>\n        <table className=\"advisors table\">\n          <thead>\n            <tr>\n              <th>Advisor ID</th>\n              <th>Available Times</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              {this.state.availability.map((advisor, key) =>\n                <td key={advisor.id}>{advisor.id}\n                  <ul className=\"list-unstyled\">\n                    <li>\n                      <time dateTime={advisor.timestamp} className=\"book-time\">{advisor.timestamp}</time>\n                      <button className=\"book btn-small btn-primary\">Book</button>\n                    </li>\n                  </ul>\n                </td>\n              )}\n            </tr>\n            <tr>\n              <td>35545</td>\n              <td>\n                <ul className=\"list-unstyled\">\n                  <li>\n                    <time dateTime=\"2019-04-04T13:00:00-04:00\" className=\"book-time\">4/4/2019 1:00 pm</time>\n                    <button className=\"book btn-small btn-primary\">Book</button>\n                  </li>\n                  <li>\n                    <time dateTime=\"2019-04-05T10:00:00-04:00\" className=\"book-time\">4/5/2019 10:00 am</time>\n                    <button className=\"book btn-small btn-primary\">Book</button>\n                  </li>\n                </ul>\n              </td>\n            </tr>\n            <tr>\n              <td>36232</td>\n              <td>\n                <ul className=\"list-unstyled\">\n                  <li>\n                    <time dateTime=\"2019-04-02T13:00:00-04:00\" className=\"book-time\">4/2/2019 1:00 pm</time>\n                    <button className=\"book btn-small btn-primary\">Book</button>\n                  </li>\n                  <li>\n                    <time dateTime=\"2019-04-03T11:00:00-04:00\" className=\"book-time\">4/3/2019 11:00 am</time>\n                    <button className=\"book btn-small btn-primary\">Book</button>\n                  </li>\n                </ul>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n\n        <h2>Booked Times</h2>\n        <table className=\"bookings table\">\n          <thead>\n            <tr>\n              <th>Advisor ID</th>\n              <th>Student Name</th>\n              <th>Date/Time</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>36232</td>\n              <td>John Smith</td>\n              <td>\n                <time dateTime=\"2019-04-03T10:00:00-04:00\">4/3/2019 10:00 am</time>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}